[init]
	defaultBranch = main
[user]
	name = COLSON
	email = colson@typemuse.com
[core]
	editor = nvim

[alias]
    # Rebase multiple branches on main in one command
    rebase-all = "!bash -c 'current_branch=$(git rev-parse --abbrev-ref HEAD); \
echo \"ğŸ“Œ Starting from branch: $current_branch\"; \
echo \"ğŸ”„ Updating main...\"; \
git checkout main && git pull; \
if [ $? -ne 0 ]; then \
    echo \"âŒ Failed to update main branch. Aborting.\"; \
    git checkout \"$current_branch\"; \
    exit 1; \
fi; \
if [ $# -eq 0 ]; then \
    echo \"ğŸ” No branches specified. Finding all feature branches...\"; \
    branches=$(git for-each-ref --format=\"%(refname:short)\" refs/heads/ | grep -v \"^main$\"); \
    if [ -z \"$branches\" ]; then \
        echo \"âš ï¸ No feature branches found. Only main branch exists.\"; \
        echo \"âŒ Nothing to rebase. Exiting.\"; \
        git checkout \"$current_branch\"; \
        exit 0; \
    fi; \
    echo \"Found the following branches:\"; \
    i=1; \
    declare -a branch_array; \
    for b in $branches; do \
        echo \"$i) $b\"; \
        branch_array[$i]=$b; \
        i=$((i+1)); \
    done; \
    echo \"Enter branch numbers to rebase (space-separated), or all for all branches:\"; \
    read selection; \
    if [ \"$selection\" = \"all\" ]; then \
        selected_branches=$branches; \
    else \
        selected_branches=\"\"; \
        for num in $selection; do \
            if [ -n \"${branch_array[$num]}\" ]; then \
                selected_branches=\"$selected_branches ${branch_array[$num]}\"; \
            fi; \
        done; \
    fi; \
    if [ -z \"$selected_branches\" ]; then \
        echo \"âŒ No valid branches selected. Exiting.\"; \
        git checkout \"$current_branch\"; \
        exit 1; \
    fi; \
    branches=$selected_branches; \
else \
    branches=\"$@\"; \
fi; \
success_branches=\"\"; \
failed_branches=\"\"; \
for branch in $branches; do \
    echo \"\nğŸ”„ Processing branch: $branch\"; \
    if git checkout \"$branch\"; then \
        if git rebase main; then \
            echo \"âœ… Successfully rebased $branch on main\"; \
            success_branches=\"$success_branches $branch\"; \
        else \
            echo \"âŒ Failed to rebase $branch. Aborting rebase.\"; \
            git rebase --abort; \
            failed_branches=\"$failed_branches $branch\"; \
        fi; \
    else \
        echo \"âŒ Failed to checkout $branch. Skipping.\"; \
        failed_branches=\"$failed_branches $branch\"; \
    fi; \
done; \
echo \"\nğŸ“‹ Summary:\"; \
echo \"âœ… Successfully rebased:$success_branches\"; \
if [ -n \"$failed_branches\" ]; then \
    echo \"âŒ Failed to rebase:$failed_branches\"; \
fi; \
echo \"\nğŸ”™ Returning to original branch: $current_branch\"; \
git checkout \"$current_branch\"; \
' -"
